{"version":3,"sources":["webpack:///./src/views/Chat.vue?4e7b","webpack:///src/views/Chat.vue","webpack:///./src/views/Chat.vue?3070","webpack:///./src/views/Chat.vue","webpack:///./src/views/Chat.vue?2f9d","webpack:///./src/utils/websocket.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","staticStyle","on","sendword","staticRenderFns","data","ws","WebSocket","components","methods","send","$refs","word","value","mounted","created","document","onkeydown","component","onopen","onmessage","e","console","log","getElementById","innerHTML","onclose"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,SAAS,CAACF,EAAG,UAAUA,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,SAASA,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,KAAK,CAACG,YAAY,SAAS,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACK,IAAI,YAAYC,YAAY,CAAC,OAAS,SAASJ,MAAM,CAAC,GAAK,eAAeF,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,QAAQ,CAACK,IAAI,OAAOH,MAAM,CAAC,KAAO,OAAO,GAAK,UAAUF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,GAAK,QAAQK,GAAG,CAAC,MAAQX,EAAIY,WAAW,CAACZ,EAAIQ,GAAG,SAAS,UAAU,IAAI,IACrmBK,EAAkB,GCkCtB,G,UAAA,CACEC,KADF,WAEI,MAAO,CACLC,GAAI,IAAIC,UAAU,6BAGtBC,WAAY,GAIZC,QAAS,CACPN,SADJ,WAIMX,KAAKc,GAAGI,KAAKlB,KAAKmB,MAAMC,KAAKC,OAC7BD,KAAKC,MAAQ,KAGjBC,QAlBF,aAmBEC,QAnBF,WAuBI,IAAJ,OACIC,SAASC,UAAb,YACM,IAAN,uBACA,OACQ,EAAR,eC9Dkb,I,wBCQ9aC,EAAY,eACd,EACA5B,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAAc,E,6CCnBf,yBAAqrB,EAAG,G,mBCCxrB,IAAMZ,EAAG,IAAIC,UAAU,2BAGvBD,EAAGa,OAAO,WAENb,EAAGI,KAAK,gBAIZJ,EAAGc,UAAU,SAASC,GAClBC,QAAQC,IAAIP,SAASQ,eAAe,cACpCR,SAASQ,eAAe,aAAaC,WAArC,wIAIoCJ,EAAEhB,KAJtC,yBAYJC,EAAGoB,QAAQ,WACPJ,QAAQC,IAAI,W","file":"js/chunk-2cde0d98.861bd142.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"chat\"}},[_c('Public'),_c('div',{staticClass:\"sub\"},[_c('Aside'),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"card\"},[_c('h2',{staticClass:\"yoyya\"},[_vm._v(\"yoya社区\")]),_c('div',{staticClass:\"content\"},[_c('div',{ref:\"container\",staticStyle:{\"height\":\"333px\"},attrs:{\"id\":\"container\"}}),_c('div',{staticClass:\"tochat\"},[_c('input',{ref:\"word\",attrs:{\"type\":\"text\",\"id\":\"word\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"id\":\"send\"},on:{\"click\":_vm.sendword}},[_vm._v(\"发送\")])],1)])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"chat\">\r\n      <Public></Public>\r\n    <div class=\"sub\">\r\n      <Aside></Aside>\r\n      <div class=\"right\">\r\n        <div class=\"card\">\r\n          <h2 class=\"yoyya\">yoya社区</h2>\r\n          <div class=\"content\">\r\n            <div id=\"container\" style=\"height:333px;\" ref=\"container\">\r\n              <!-- \r\n                ##  客户端  socket \r\n                1. 创建 客户端的 socket 套接字对象  \r\n                2. 链接 服务器端的  socket \r\n                3. 发送消息给  服务器 \r\n                4. 接收 来自服务器的 消息\r\n                5. 监听  服务器 socket  关闭/报错 \r\n\r\n                双向通信   相互监听\r\n              -->\r\n            </div>\r\n            <div class=\"tochat\">\r\n              <input type=\"text\" id=\"word\" ref=\"word\" />\r\n              <el-button type=\"primary\" id=\"send\" @click=\"sendword\" >发送</el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import Public from \"@/components/Public.vue\";\r\n// import Aside from \"@/components/Aside.vue\";\r\nimport \"@/utils/websocket.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      ws: new WebSocket(\"ws://47.103.209.45:9090\")\r\n    };\r\n  },\r\n  components: {\r\n    // Public,\r\n    // Aside\r\n  },\r\n  methods: {\r\n    sendword() {\r\n      // console.log(1312312);\r\n\r\n      this.ws.send(this.$refs.word.value);\r\n      word.value = \"\";\r\n    },\r\n  },\r\n  mounted() {},\r\n  created() {\r\n\r\n    // 不能直接在焦点事件上添加回车，不然是出不来的\r\n\r\n    let that=this;\r\n    document.onkeydown=function(e){\r\n      let key=window.event.keyCode;\r\n      if(key==13){\r\n          that.sendword()\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.yoyya {\r\n  font-family: \"Hiragino Sans GB\";\r\n  color: #000;\r\n  font-weight: bold;\r\n  font-size: 30px;\r\n  margin: 50px;\r\n}\r\n.right {\r\n  background: rgba(227, 191, 224, 0.28);\r\n  .card {\r\n    width: 90%;\r\n    height: 90%;\r\n    background: white;\r\n    padding: 10px;\r\n    margin: 30px auto;\r\n    .content {\r\n      width: 70%;\r\n      height: 70%;\r\n      margin: 0 auto;\r\n      // background-image: url(../assets/timg.jpg);\r\n      box-shadow: 1px 1px 15px 1px skyblue inset;\r\n      position: relative;\r\n      .tochat {\r\n        width: 100%;\r\n        height: 40px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n\r\n        #word {\r\n          width: 90%;\r\n          outline: none;\r\n          border: 1px solid #888888;\r\n          text-indent: 8px;\r\n        }\r\n        /deep/el-button {\r\n          width: 25%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n#container{\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  text-align: left;\r\n  flex-direction: column;\r\n  padding:10px;\r\n  overflow: hidden;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n\r\n  \r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=0916091a&scoped=true&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=0916091a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0916091a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=0916091a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=0916091a&lang=scss&scoped=true&\"","// 创建链接\r\nconst ws=new WebSocket(\"ws://47.103.209.45:9090\")\r\n\r\n// 打开链接\r\nws.onopen=function(){\r\n    // 发送消息给服务器\r\n    ws.send(\"yoya的朋友，大家好\")\r\n}\r\n\r\n// 接受来自服务器转发过来的消息\r\nws.onmessage=function(e){\r\n    console.log(document.getElementById(\"container\"));\r\n    document.getElementById(\"container\").innerHTML+=`\r\n    <p style=\" width:100%;\r\n    height:30px;line-height:30px;\r\n    text-align: left;\r\n    margin:5px 5px;\"> <span style=\"\"> ${e.data}<span><p>\r\n   \r\n    ` \r\n}\r\n\r\n\r\n// 监听服务器的关闭\r\n\r\nws.onclose=function(){\r\n    console.log(\"服务器关闭\")\r\n}\r\n"],"sourceRoot":""}