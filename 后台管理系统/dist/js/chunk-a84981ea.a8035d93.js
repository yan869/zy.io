(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a84981ea"],{2779:function(e,t,a){"use strict";var o=a("9dde"),n=a.n(o);n.a},"2a5a":function(e,t,a){"use strict";var o=a("4482"),n=a.n(o);n.a},4482:function(e,t,a){},"817e":function(e,t,a){},"9dde":function(e,t,a){},a31a:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clientinfo"},[a("Public"),a("div",{staticClass:"sub"},[a("Aside"),a("div",{staticClass:"right"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"修改个人信息",name:"first"},on:{click:e.self}},[a("Changeinfo")],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"second"},on:{click:e.mi}},[a("Changepwd")],1),a("el-tab-pane",{attrs:{label:"我的客户",name:"third"}},[a("Myclients")],1)],1)],1)],1)],1)},n=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"changeinfo"}},[a("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"请输入内容",type:"username",autocomplete:"off",disabled:!0},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[e._v(" "+e._s(this.clientinfo.username)+" ")])],1)],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"mobile",placeholder:"手机号",autocomplete:"off",disabled:!0},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[e._v(e._s(this.clientinfo.mobile))])],1)],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-col",{attrs:{span:12}},[a("el-input",{ref:"email",attrs:{type:"email",autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},[e._v(e._s(this.clientinfo.email))])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"md"}},[a("el-col",{attrs:{span:12}},[a("el-input",{ref:"md",attrs:{type:"md",autocomplete:"off"},model:{value:e.form.md,callback:function(t){e.$set(e.form,"md",t)},expression:"form.md"}},[e._v(e._s(this.clientinfo.md))])],1)],1),a("el-form-item",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],s=(a("ce00"),a("f175"),a("4e0e"),a("fc43"),a("b462"),a("d5d3"),a("6479"),a("e4e2")),i=a("08c1");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={data:function(){var e=this,t=function(t,a,o){""===a?o(new Error("请添加对我们的评价")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkMd"),o())},a=function(t,a,o){""===a?o(new Error("邮箱不能为空")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkEmail"),o())};return{form:{username:"",mobile:"",email:"",md:""},rules:{md:[{validator:t,trigger:"blur"}],email:[{validator:a,trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$refs.md.value,t.$refs.email.value;t.$axios.post("/vue/changeClientInfo",t.form).then((function(e){}))}))},resetForm:function(){this.form={}}},created:function(){},computed:u({},Object(i["d"])(["clientinfo"])),mounted:function(){this.form=JSON.parse(sessionStorage.client),console.log(this.form)}},f=m,p=a("4e82"),d=Object(p["a"])(f,l,r,!1,null,"2a980c06",null),b=d.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"changepwd"}},[a("el-form",{ref:"pass",staticClass:"demo-dynamic",attrs:{model:e.pass,"label-width":"100px","el-col":"12"}},[a("el-form-item",{attrs:{prop:"oldpass",label:"原始密码"}},[a("el-col",{attrs:{span:8}},[a("el-input",{ref:"origin",attrs:{placeholder:"请输入您的原始密码"},model:{value:e.pass.oldpass,callback:function(t){e.$set(e.pass,"oldpass",t)},expression:"pass.oldpass"}})],1)],1),a("el-form-item",{attrs:{prop:"newpass",label:"新密码"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入新密码","show-password":""},model:{value:e.pass.newpass,callback:function(t){e.$set(e.pass,"newpass",t)},expression:"pass.newpass"}})],1)],1),a("el-form-item",[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),a("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)},v=[];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={data:function(){return{pass:{oldpass:"",newpass:""},clientpass:{}}},computed:g({},Object(i["d"])(["stuinfo"])),methods:{submitForm:function(){var e=this;this.$axios.post("/vue/stuchangepwd",{oldpass:this.pass.oldpass,newpass:this.pass.newpass}).then((function(t){t.data.flag?(e.clientpass=JSON.parse(t.config.data),e.pass.oldpass=e.clientpass.newpass,e.pass.newpass=""):e.$router.push({name:"login"})}))},resetForm:function(){this.pass.oldpass="",this.pass.newpass=""}},created:function(){},mounted:function(){}},k=w,O=(a("e509"),Object(p["a"])(k,h,v,!1,null,"2228b5c3",null)),_=O.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"myClients"}},[a("div",{staticClass:"yoya"},[e._v("yoya股份有限公司财务报表")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("i",{staticClass:"el-icon-caret-bottom"}),a("el-table-column",{attrs:{label:"名字",prop:"names",width:"100"}}),a("el-table-column",{attrs:{label:"时间",prop:"time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time)+" ")])]}}])}),a("el-table-column",{attrs:{label:"城市",prop:"city",width:"150"}}),a("el-table-column",{attrs:{label:"认购量",prop:"buynum",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.buynum)+" 件")])]}}])}),a("el-table-column",{attrs:{label:"销售量",prop:"salenum",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.salenum)+" 件")])]}}])}),a("el-table-column",{attrs:{label:"销售额",prop:"money",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v("￥ "+e._s(t.row.money))])]}}])}),a("el-table-column",{attrs:{align:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])},[a("template",{slot:"header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],ref:"key",attrs:{size:"mini",placeholder:"输入关键字搜索"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],2)],1),a("el-dialog",{attrs:{title:"客户信息修改",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form,id:"addre"}},[a("el-form-item",{attrs:{label:"名字","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.names,callback:function(t){e.$set(e.form,"names",t)},expression:"form.names"}})],1),a("el-form-item",{attrs:{label:"时间","label-width":e.formLabelWidth}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)]),a("el-form-item",{attrs:{label:"城市","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),a("el-form-item",{attrs:{label:"认购量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.buynum,callback:function(t){e.$set(e.form,"buynum",t)},expression:"form.buynum"}})],1),a("el-form-item",{attrs:{label:"销售量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.salenum,callback:function(t){e.$set(e.form,"salenum",t)},expression:"form.salenum"}})],1),a("el-form-item",{attrs:{label:"销售额","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.changeinfo}},[e._v("确 定")])],1)],1),[a("div",{staticClass:"paginationBox"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]],2)},$=[],j=(a("8909"),{data:function(){return{tableData:[],currentPage:1,pagesize:10,keyword:"",search:"",prop:!1,form:{},dialogTableVisible:!1,dialogFormVisible:!1,value1:"",formLabelWidth:"120px"}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},onSubmit:function(){var e=this,t=this.$refs.key.value;this.$axios.get("/vue/myclients",{params:{keyword:t}}).then((function(t){e.tableData=t.data.result,e.tableData.length&&(e.$refs.key.value="")}))},handleEdit:function(e,t){this.form=t,this.dialogFormVisible=!0},changeinfo:function(){this.dialogFormVisible=!1,this.$axios.post("/vue/updateinfo",this.form).then((function(e){})),this.form.buynum||this.form.buynum||this.form.money},handleDelete:function(e,t){this.$axios.get("/vue/delmyclient",{params:{id:t.uid}}).then((function(e){})),this.tableData.splice(e,1)},handleclientlist:function(){var e=this;this.$axios.get("/vue/myclients").then((function(t){e.tableData=t.data.result}))}},mounted:function(){},created:function(){this.handleclientlist()}}),P=j,C=(a("2779"),Object(p["a"])(P,x,$,!1,null,"12ec6fda",null)),S=C.exports,D={name:"clientinfo",data:function(){return{active:"first"}},methods:{self:function(){},mi:function(){}},mounted:function(){this.active=this.$route.query.type?this.$route.query.type:"first",console.log(this.$route.fullPath+"?"+this.active)},components:{Changepwd:_,Changeinfo:b,Myclients:S}},F=D,z=(a("2a5a"),Object(p["a"])(F,o,n,!1,null,"3bba8bf6",null));t["default"]=z.exports},e509:function(e,t,a){"use strict";var o=a("817e"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-a84981ea.a8035d93.js.map